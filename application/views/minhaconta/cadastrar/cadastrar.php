<!--

<div class="container margin-top padding-med-reset">
	<div class="row">
		<div class="col-lg-12 margin-bottom-17">
		<h1 class='no-margin' style='color: #000;'>Cadastrar-se </h1>
		</div>
		<ol class="breadcrumb">
			<li>
				<a href="{url}" class="breadcump">Home</a>
			</li>
			<li class="active">
				Cadastrar
			</li>
		</ol>
	</div>
	<div class="row">
		<div class="col-lg-6 border-left-custom">
			<form class='formCadastro' method='post' action='{url}ajax/minha/conta/cadastrar' >
				<div class="col-lg-11 no-padding margin-bottom-17">
					<h3>Dados Pessoais</h3>
					<hr />
					<div class='col-lg-6 no-padding'>
						<label>Nome</label>
						<input type='text' name='nome' class='form-control' />
					</div>
					<div class='col-lg-6'>
						<label>Sobrenome</label>
						<input type='text' name='sobrenome' class='form-control' />
					</div>
				</div>
				<div class="col-lg-11 no-padding margin-bottom-17">
					<div class='col-lg-6 no-padding'>
						<label>CPF</label>
						<input type='text' name='cpf' class='form-control' />
					</div>
					<div class='col-lg-6'>
						<label>Sexo</label>
						<div class='radio'>
							<label style='margin-top: 10px;'>
								<input type="radio" class='no-margin-top' name='sexo' checked value='1'>
								Masculino
							</label>
							<label style='margin-top: 10px; margin-left: 20px;'>
								<input type="radio" class='no-margin-top' name='sexo' value='2'>
								Feminino
							</label>
						</div>
					</div>
				</div>
				<div class="col-lg-11 no-padding margin-bottom-17">
					<div class='col-lg-3 no-padding'>
						<label>Data de Nasc.</label>
						<input type='text' name='dataNasc' placeholder='DD/MM/AAAA' class='form-control' />
					</div>
					<div class='col-lg-9'>
						<label>E-mail</label>
						<input type='email' name='email' id='email' class='form-control' />
					</div>
				</div>
				<div class='col-lg-11 no-padding margin-bottom-17'>
					<h3>Endereço</h3>
					<hr />
					<div class="col-lg-12 no-padding margin-bottom-17">
						<div class='col-lg-5 no-padding'>
							<label>Destinatário</label>
							<input type='text' name='destinatario' class='form-control' />
						</div>
						<div class='col-lg-7'>
							<label>Ponto de Referência</label>
							<input type='text' name='pontoReferencia' class='form-control' />
						</div>
					</div>
					<div class="col-lg-12 no-padding margin-bottom-17">
						<div class='col-lg-3 no-padding'>
							<label>Cep</label>
							<input type='text' name='cep' class='form-control' />
						</div>
						<div class='col-lg-9'>
							<label>Endereço</label>
							<input type='text' name='endereco' class='form-control' />
						</div>
					</div>
					<div class="col-lg-12 no-padding margin-bottom-17">
						<div class='col-lg-6 no-padding'>
							<label>Bairro</label>
							<input type='text' name='bairro' class='form-control' />
						</div>
						<div class='col-lg-3'>
							<label>Número</label>
							<input type='text' name='numero' class='form-control' />
						</div>
						<div class='col-lg-3'>
							<label>Comple.</label>
							<input type='text' name='comple' class='form-control' />
						</div>
					</div>
					<div class="col-lg-12 no-padding margin-bottom-17">
						<div class='col-lg-6 no-padding'>
							<label>Cidade</label>
							<input type='text' name='cidade' readonly class='form-control' />
						</div>
						<div class='col-lg-6'>
							<label>Estado</label>
							<input type='text' name='estado' readonly class='form-control' />
						</div>
					</div>
				</div>
				<div class='col-lg-11 no-padding margin-bottom-17'>
					<h3>Dados de Acesso</h3>
					<hr />
					<div class="col-lg-12 no-padding margin-bottom-17">
						<div class='col-lg-12 no-padding'>
							<label>Usuário</label>
							<input type='text' name='user' id='userLogin' class='form-control' readonly />
						</div>
					</div>
					<div class="col-lg-12 no-padding margin-bottom-17">
						<div class='col-lg-6 no-padding'>
							<label>Senha</label>
							<input type='password' name='pass' class='form-control' placeholder='Digite a sua senha' />
						</div>
						<div class='col-lg-6 no-padding-right'>
							<label>Repita a Senha</label>
							<input type='password' name='rePass' class='form-control' placeholder='Repita a sua senha' />
						</div>
					</div>
					<div class="col-lg-12 no-padding margin-bottom-17">
						<button type='submit' class='btn btn-success'>Cadastrar-se</button>
						<button type='button' class='btn btn-danger cancelar-cadastro'>Cancelar</button>
					</div>
				</div>
			</form>
		</div>
		<div class='col-lg-5 pull-right margin-right-45'>
			<form class='formLogin' method='post' action='{url}ajax/minha/conta/logar' >
				<div class='col-lg-10 no-padding margin-bottom-17'>
					<h3>Já tem cadastro? Faça login aqui</h3>
					<hr />
					<div class="col-lg-12 no-padding margin-bottom-17">
						<div class='col-lg-12 no-padding'>
							<label>Usuário</label>
							<input type='email' name='user' placeholder='Digite seu usuário' class='form-control'/>
						</div>
					</div>
					<div class="col-lg-12 no-padding margin-bottom-17">
						<div class='col-lg-12 no-padding'>
							<label>Senha</label>
							<input type='password' name='pass' class='form-control' placeholder='Digite a sua senha' />
						</div>
					</div>
					<div class="col-lg-12 no-padding margin-bottom-17">
						<button type='submit' class='btn btn-success pull-right'>Logar</button>
					</div>
				</div>
			</form>
		</div>
	</div>
</div>

-->



<div class="conteiner">





  <div class="cadastro" id="formCadastroCompleto">
    <div class="cabecalho-interno row-fluid">
      <div class="span12">
        <h1 class="titulo cor-secundaria">
          Cadastrar <small>Insira as suas informações para realizar o cadastro</small>
        </h1>
      </div>
    </div>



<script>
  $(document).ready(function() {
    esconder_pais = function(lista) {
      $(lista).each(function(i, e) {
        $(e).parent().parent().slideUp();
      });
    };

    mostrar_pais = function(lista) {
      $(lista).each(function(i, e) {
        $(e).parent().parent().slideDown();
      });
    };

    $('#formCadastroCompleto input[name=tipo]').change(function() {
      var self = $(this);
      var tipo = $('#formCadastroCompleto input[name=tipo]:checked').val();
      if (tipo == 'PF') {
        lista_esconder = ['#id_cnpj', '#id_ie', '#id_ie_isento', '#id_razao_social', '#id_telefone_comercial'];
        lista_mostrar = ['#id_cpf', '#id_nome', '#id_data_nascimento', '#id_sexo'];
      } else if (tipo == 'PJ') {
        lista_esconder = ['#id_cpf', '#id_data_nascimento', '#id_sexo', '#id_telefone_comercial'];
        lista_mostrar = ['#id_cnpj', '#id_ie', '#id_ie_isento', '#id_razao_social', '#id_nome'];
      } else {
        lista_esconder = ['#id_cpf', '#id_cnpj', '#id_ie', '#id_ie_isento', '#id_razao_social'];
        lista_mostrar = ['#id_nome'];
      }
      esconder_pais(lista_esconder);
      mostrar_pais(lista_mostrar);
    }).change();

    if ($('#id_email').val() && !$('#id_confirmacao_email').val()) {
      $('#id_confirmacao_email').focus();
    };

    $('.formulario-cadastro-cliente').submit(function() {
      var campoVazio = true;
      $('.formulario-cadastro-cliente .control-group.required .controls input').each(function() {
        if ($('#formCadastroCompleto input[name=tipo]:checked').val() == 'PJ') {
          if ($(this).attr('name') == 'cpf' || $(this).attr('name') == 'data_nascimento') {
            return;
          }
        } else {
          if ($(this).attr('name') == 'cnpj' || $(this).attr('name') == 'razao_social') {
            return;
          }
        }
        if (this.value === "") {
          campoVazio = false;
          $(this).focus();
          $(this).parent().parent().addClass('erro error');
        } else {
          $(this).parent().parent().removeClass('erro error');
        }
      });
      if ($(".formulario-cadastro-cliente .control-group.required #id_sexo").val() === "" && $('#formCadastroCompleto input[name=tipo]:checked').val() !== 'PJ') {
        campoVazio = false;
        $(".formulario-cadastro-cliente .control-group.required #id_sexo").parent().parent().addClass('erro error');
      } else {
        $(".formulario-cadastro-cliente .control-group.required #id_sexo").parent().parent().removeClass('erro error');
      }
      return campoVazio
    });
  });
</script>

<form action="{url}ajax/minha/conta/cadastrar" method="post" class="formCadastro">

  <div class="dados-acesso row-fluid">
    <div class="span12">
      <div class="caixa-sombreada borda-principal">
        <fieldset>
          <legend class="titulo cor-secundaria borda-alpha"><i class="icon-user"></i>Dados para acesso</legend>
          <div class="row-fluid cor-principal">
            <div class="control-group span12 ">
              <label for="id_email" class="control-label"><i class="icon-envelope"></i> E-mail</label>
              <div class="controls">

                <input id="id_email" required maxlength="128" name="email" placeholder="Digite o seu email" type="text" value="" class="input-block-level">

              </div>
            </div>

          </div>
          <br>
          <div class="row-fluid cor-principal">
            <div class="control-group span6 ">
              <label for="id_senha" class="control-label"><i class="icon-lock" style="margin: 0 1px 0 2px;"></i> Crie uma senha</label>
              <input class="input-block-level" required id="id_senha" maxlength="32" name="pass" type="password">

            </div>
            <div class="control-group span6 ">
              <label for="id_confirmacao_senha" class="control-label">Confirmar senha</label>
              <input class="input-block-level" required id="id_confirmacao_senha" maxlength="32" name="rePass" type="password">

            </div>
          </div>
        </fieldset>
      </div>
    </div>
  </div>

  <div class="tipo-cadastro row-fluid">
    <div class="span12">
      <div class="caixa-sombreada">
        <fieldset class="">
          <legend class="titulo cor-secundaria borda-alpha"><i class="icon-group"></i>Tipo de cadastro</legend>
          <ul id="id_tipo"><li><label for="id_tipo_0"><input checked="checked" class="input-medium" id="id_tipo_0" name="tipo" type="radio" value="PF"> Pessoa Física</label></li>
              <li><label for="id_tipo_1"><input class="input-medium" id="id_tipo_1" name="tipo" type="radio" value="PJ"> Pessoa Jurídica</label></li></ul>
        </fieldset>
      </div>
    </div>
  </div>

  <div class="dados-pessoais row-fluid">
    <div class="span6">
      <div class="caixa-sombreada borda-principal">
        <fieldset class="form-horizontal">
          <legend class="titulo cor-secundaria borda-alpha"><i class="icon-list"></i> Dados Pessoais</legend>
          <div class="control-group  required" style="">
            <label for="id_nome" class="control-label font-bold">Nome completo</label>
            <div class="controls">
              <input class="input-big" id="id_nome" maxlength="255" name="nome" type="text">
            </div>
          </div>
          <div class="control-group  required" style="display: block;">
            <label for="id_cpf" class="control-label font-bold">CPF</label>
            <div class="controls">
              <input autocapitalize="off" autocomplete="off" autocorrect="off" class="input-medium" id="id_cpf" maxlength="14" name="cpf" spellcheck="false" type="tel">

            </div>
          </div>
          <div class="control-group  required" style="display: none;">
            <label for="id_cnpj" class="control-label font-bold">CNPJ</label>
            <div class="controls">
              <input autocapitalize="off" autocomplete="off" autocorrect="off" class="input-medium" id="id_cnpj" name="cnpj" spellcheck="false" type="text" maxlength="18">

            </div>
          </div>
          <div class="control-group  required" style="display: none;">
            <label for="id_razao_social" class="control-label font-bold">Razão Social</label>
            <div class="controls">
              <input class="input-big" id="id_razao_social" maxlength="128" name="razao_social" type="text">

            </div>
          </div>
          <div class="control-group " style="display: none;">
            <label for="id_ie" class="control-label">Inscrição Estadual</label>
            <div class="controls">
              <input autocapitalize="off" autocomplete="off" autocorrect="off" class="input-medium" id="id_ie" maxlength="20" name="ie" spellcheck="false" type="text">

            </div>
          </div>
          <div class="control-group  required">
            <label for="id_telefone_celular" class="control-label font-bold">Celular</label>
            <div class="controls">
              <input autocapitalize="off" autocomplete="off" required autocorrect="off" class="input-small input-telefone" id="id_telefone_celular" name="telefone_celular" spellcheck="false" type="tel" maxlength="15">
            </div>
          </div>
          <div class="control-group ">
            <label for="id_telefone_principal" class="control-label">Telefone fixo</label>
            <div class="controls">
              <input autocapitalize="off" autocomplete="off" autocorrect="off" class="input-small input-telefone" id="id_telefone_principal" name="telefone_principal" spellcheck="false" type="tel" maxlength="15">
            </div>
          </div>
          <div class="control-group " style="display: none;">
            <label for="id_telefone_comercial" class="control-label">Telefone comercial</label>
            <div class="controls">
              <input autocapitalize="off" autocomplete="off" autocorrect="off" class="input-small input-telefone" id="id_telefone_comercial" name="telefone_comercial" spellcheck="false" type="tel" maxlength="15">
            </div>
          </div>
          <div class="control-group  required" style="display: block;">
            <label for="id_sexo" class="control-label font-bold">Sexo</label>
            <div class="controls">
              <select class="input-medium" id="id_sexo" name="sexo">
									<option value="" selected="selected"> - Selecione - </option>
									<option value="1">Masculino</option>
									<option value="2">Feminino</option>
							</select>
            </div>
          </div>
          <div class="control-group  required" style="display: block;">
            <label for="id_data_nascimento" class="control-label font-bold">Data de nascimento</label>
            <div class="controls">
              <input autocapitalize="off" autocomplete="off" autocorrect="off" class="input-small" id="id_data_nascimento" name="dataNasc" spellcheck="false" type="text" maxlength="10">
            </div>
          </div>
        </fieldset>
      </div>
    </div>
    <div class="span6">
      <div class="caixa-sombreada borda-principal">
        <fieldset class="form-horizontal">
          <legend class="titulo cor-secundaria borda-alpha"><i class="icon-map-marker"></i> Endereço</legend>
          <div class="control-group  required">
            <label for="id_cep" class="control-label font-bold">CEP</label>
            <div class="controls">
              <input autocapitalize="off" autocomplete="off" required autocorrect="off" class="input-small" id="id_cep" name="cep" spellcheck="false" type="tel" maxlength="9">
              <span class="help-inline">
                <a href="http://www.buscacep.correios.com.br/sistemas/buscacep/" title="Buscar cep no Correios" target="_blank">
                  <i class="icon-question-sign cor-secundaria"></i> Não sei meu cep
                </a>
              </span>
            </div>
          </div>
          <div class="control-group  required">
            <label for="id_endereco" class="control-label font-bold">Endereço</label>
            <div class="controls">
              <input id="id_endereco" maxlength="255" required name="endereco" type="text">
            </div>
          </div>
          <div class="control-group  required">
            <label for="id_numero" class="control-label font-bold">Número</label>
            <div class="controls">
              <input class="input-mini" id="id_numero" required maxlength="6" name="numero" type="text">
            </div>
          </div>
          <div class="control-group ">
            <label for="id_complemento" class="control-label">Complemento</label>
            <div class="controls">
              <input id="id_complemento" maxlength="30" required name="complemento" type="text">
            </div>
          </div>
          <div class="control-group ">
            <label for="id_referencia" class="control-label">Referência</label>
            <div class="controls">
              <input id="id_referencia" maxlength="255" required name="pontoReferencia" type="text">
            </div>
          </div>
          <div class="control-group  required">
            <label for="id_bairro" class="control-label font-bold">Bairro</label>
            <div class="controls">
              <input class="input-medium" id="id_bairro" required maxlength="128" name="bairro" type="text">
            </div>
          </div>
          <div class="control-group  required">
            <label for="" class="control-label font-bold">Cidade</label>
            <div class="controls">
              <input class="input-medium" id="id_cidade" required maxlength="128" name="cidade" type="text">
            </div>
          </div>
          <div class="control-group  required">
            <label for="id_estado" class="control-label font-bold">Estado</label>
            <div class="controls">
              <select id="id_estado" maxlength="2" name="estado" required>
									<option value="AC">Acre</option>
									<option value="AL">Alagoas</option>
									<option value="AP">Amapá</option>
									<option value="AM">Amazonas</option>
									<option value="BA">Bahia</option>
									<option value="CE">Ceará</option>
									<option value="DF">Distrito Federal</option>
									<option value="ES">Espírito Santo</option>
									<option value="GO">Goiás</option>
									<option value="MA">Maranhão</option>
									<option value="MT">Mato Grosso</option>
									<option value="MS">Mato Grosso do Sul</option>
									<option value="MG">Minas Gerais</option>
									<option value="PA">Pará</option>
									<option value="PB">Paraíba</option>
									<option value="PR">Paraná</option>
									<option value="PE">Pernambuco</option>
									<option value="PI">Piauí</option>
									<option value="RJ">Rio de Janeiro</option>
									<option value="RN">Rio Grande do Norte</option>
									<option value="RS">Rio Grande do Sul</option>
									<option value="RO">Rondônia</option>
									<option value="RR">Roraima</option>
									<option value="SC">Santa Catarina</option>
									<option value="SP">São Paulo</option>
									<option value="SE">Sergipe</option>
									<option value="TO">Tocantins</option>
									</select>
            </div>
          </div>
        </fieldset>
      </div>
    </div>
  </div>

  <div class="acao-editar row-fluid">
    <div class="span3 offset9">
      <a href="javascript:window.history.back();" class="botao">Cancelar</a>
      <button type="submit" class="botao principal">Criar Conta</button>
    </div>
  </div>
</form>

  </div>


          <div class="secao-secundaria">


          </div>
        </div>







<script type='text/javascript'>
	var baseUrl   =   '{url}';

	$(document).ready(function() {
			$("#id_data_nascimento").mask("99/99/9999");
	});

	$("input[name='cep']").focusout( function() {
                // endpoint ajax para requisição de cep
                var urlTeste = 'http://viacep.com.br/ws/'+this.value+'/json/';
                // jquery para pegar os dados json
                $.getJSON(urlTeste, function ( response ) {
                    $("input[name='bairro']").attr( 'value', response.bairro );
                    $("input[name='cidade']").attr( 'value', response.localidade );
                    //$("input[name='estado']").attr( 'value', response.uf );

										$('#id_estado option')
											 .removeAttr('selected')
											 .filter('[value="' + response.uf + '"]')
													 .attr('selected', true);


                   	$("input[name='endereco']").attr( 'value', response.logradouro);
                   	$("input[name='numero']").focus();
                   	console.log( response );
                });
            });


</script>
